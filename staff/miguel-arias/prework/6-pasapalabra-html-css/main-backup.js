allQuestions = [
    {
        letter: "a",
        answer: ["abducir", "aceptar", "afirmar"],
        status: 0,
        question: [
            "CON LA A. Dicho de una supuesta criatura extraterrestre: Apoderarse de alguien",
            "CON LA A. Estar de acuerdo con algo",
            "CON LA A. Asegurar o afirmar algo",
        ],
    },
    {
        letter: "b",
        answer: ["bingo", "burlarse", "buscar"],
        status: 0,
        question: [
            "CON LA B. Juego que ha sacado de quicio a todos los 'Coders' en las sesiones de precurso",
            "CON LA B. Ridiculizar o mofarse de alguien o algo",
            "CON LA B. Intentar encontrar algo o a alguien",
        ],
    },
    {
        letter: "c",
        answer: ["churumbel", "cantar", "comer"],
        status: 0,
        question: [
            "CON LA C. Niño, crío, bebé",
            "CON LA C. Emitir sonidos con la voz siguiendo una melodía",
            "CON LA C. Ingerir alimentos",
        ],
    },
    {
        letter: "d",
        answer: ["diarrea", "dibujar", "dormir"],
        status: 0,
        question: [
            "CON LA D. Anormalidad en la función del aparato digestivo caracterizada por frecuentes evacuaciones y su consistencia líquida",
            "CON LA D. Plasmar una idea o representar gráficamente algo",
            "CON LA D. Descansar en un estado de inconsciencia",
        ],
    },
    {
        letter: "e",
        answer: ["ectoplasma", "escuchar", "estudiar"],
        status: 0,
        question: [
            "CON LA E. Gelatinoso y se encuentra debajo de la membrana plasmática. Los cazafantasmas medían su radiación",
            "CON LA E. Percibir con el oído los sonidos",
            "CON LA E. Adquirir conocimientos por medio de la lectura o la investigación",
        ],
    },
    {
        letter: "f",
        answer: ["facil", "fumar", "fugaz"],
        status: 0,
        question: [
            "CON LA F. Que no requiere gran esfuerzo, capacidad o dificultad",
            "CON LA F. Inhalación y exhalación de humo producido por un cigarro, pipa, etc.",
            "CON LA F. Que dura poco tiempo o se realiza con rapidez",
        ],
    },
    {
        letter: "g",
        answer: ["galaxia", "gritar", "girar"],
        status: 0,
        question: [
            "CON LA G. Conjunto enorme de estrellas, polvo interestelar, gases y partículas",
            "CON LA G. Elevar mucho la voz",
            "CON LA G. Dar vueltas sobre sí mismo o alrededor de algo",
        ],
    },
    {
        letter: "h",
        answer: ["harakiri", "hablar", "helado"],
        status: 0,
        question: [
            "CON LA H. Suicidio ritual japonés por desentrañamiento",
            "CON LA H. Emitir palabras, comunicarse oralmente",
            "CON LA H. Postre frío que se elabora con leche, azúcar y otros ingredientes",
        ],
    },
    {
        letter: "i",
        answer: ["iglesia", "inventar", "ir"],
        status: 0,
        question: [
            "CON LA I. Templo cristiano",
            "CON LA I. Crear o idear algo nuevo",
            "CON LA I. Desplazarse de un lugar a otro",
        ],
    },
    {
        letter: "j",
        answer: ["jabali", "jugar", "juntar"],
        status: 0,
        question: [
            "CON LA J. Variedad salvaje del cerdo que sale en la película 'El Rey León', de nombre Pumba",
            "CON LA J. Participar en actividades recreativas o competitivas",
            "CON LA J. Unir una cosa con otra o varias entre sí",
        ],
    },
    {
        letter: "l",
        answer: ["licantropo", "leer", "limpiar"],
        status: 0,
        question: [
            "CON LA L. Hombre lobo",
            "CON LA L. Interpretar un texto escrito en voz alta y comprender su significado",
            "CON LA L. Quitar la suciedad o el desorden de algo",
        ],
    },
    {
        letter: "m",
        answer: ["misantropo", "mirar", "montar"],
        status: 0,
        question: [
            "CON LA M. Persona que huye del trato con otras personas o siente gran aversión hacia ellas",
            "CON LA M. Dirigir la vista hacia algo o alguien para observarlo",
            "CON LA M. Subirse o colocarse sobre algo, especialmente para cabalgar o viajar en él",
        ],
    },
    {
        letter: "n",
        answer: ["necedad", "nadar", "navegar"],
        status: 0,
        question: [
            "CON LA N. Demostración de poca inteligencia",
            "CON LA N. Moverse en el agua ayudándose de los brazos y las piernas",
            "CON LA N. Desplazarse sobre el agua en una embarcación",
        ],
    },
    {
        letter: "ñ",
        answer: ["señal", "ñandu", "caña"],
        status: 0,
        question: [
            "CONTIENE LA Ñ. Indicio que permite deducir algo de lo que no se tiene un conocimiento directo.",
            "CONTIENE LA Ñ. Ave de gran tamaño parecida al avestruz, pero más pequeña",
            "CONTIENE LA Ñ. Varilla larga y delgada, generalmente de metal, que se utiliza para pescar",
        ],
    },
    {
        letter: "o",
        answer: ["orco", "observar", "oler"],
        status: 0,
        question: [
            "CON LA O. Humanoide fantástico de apariencia terrible y bestial, piel de color verde creada por el escritor Tolkien",
            "CON LA O. Mirar atentamente algo o a alguien",
            "CON LA O. Percibir los olores a través del sentido del olfato",
        ],
    },
    {
        letter: "p",
        answer: ["protoss", "pintar", "pasear"],
        status: 0,
        question: [
            "CON LA P. Raza ancestral tecnológicamente avanzada que se caracteriza por sus grandes poderes psíonicos del videojuego StarCraft",
            "CON LA P. Aplicar pintura sobre una superficie",
            "CON LA P. Caminar sin rumbo fijo, generalmente por placer o para hacer ejercicio",
        ],
    },
    {
        letter: "q",
        answer: ["queso", "quemar", "quitar"],
        status: 0,
        question: [
            "CON LA Q. Producto obtenido por la maduración de la cuajada de la leche",
            "CON LA Q. Hacer arder algo con fuego o calor",
            "CON LA Q. Retirar o apartar algo de donde está",
        ],
    },
    {
        letter: "r",
        answer: ["raton", "reir", "rascar"],
        status: 0,
        question: [
            "CON LA R. Roedor",
            "CON LA R. Manifestar alegría mediante ciertos movimientos del rostro y emitiendo sonidos característicos",
            "CON LA R. Pasar las uñas o un objeto punzante sobre la piel para aliviar una comezón",
        ],
    },
    {
        letter: "s",
        answer: ["stackoverflow", "saltar", "soñar"],
        status: 0,
        question: [
            "CON LA S. Comunidad salvadora de todo desarrollador informático",
            "CON LA S. Impulsarse hacia arriba con fuerza desde el suelo o desde una posición elevada",
            "CON LA S. Experimentar imágenes y sensaciones mientras se duerme",
        ],
    },
    {
        letter: "t",
        answer: ["terminator", "tocar", "trabajar"],
        status: 0,
        question: [
            "CON LA T. Película del director James Cameron que consolidó a Arnold Schwarzenegger como actor en 1984",
            "CON LA T. Hacer contacto físico con algo o alguien",
            "CON LA T. Realizar actividades laborales o profesionales",
        ],
    },
    {
        letter: "u",
        answer: ["unamuno", "utilizar", "unir"],
        status: 0,
        question: [
            "CON LA U. Escritor y filósofo español de la generación del 98 autor del libro 'Niebla' en 1914",
            "CON LA U. Hacer uso de algo para un determinado propósito",
            "CON LA U. Juntar, enlazar o conectar cosas entre sí",
        ],
    },
    {
        letter: "v",
        answer: ["vikingos", "ver", "viajar"],
        status: 0,
        question: [
            "CON LA V. Nombre dado a los miembros de los pueblos nórdicos originarios de Escandinavia, famosos por sus incursiones y pillajes en Europa",
            "CON LA V. Percibir con los ojos los objetos mediante la luz que reflejan",
            "CON LA V. Desplazarse de un lugar a otro, generalmente distante",
        ],
    },
    {
        letter: "x",
        answer: ["botox", "examen", "exacto"],
        status: 0,
        question: [
            "CONTIENE LA X. Toxina bacteriana utilizada en cirujía estética",
            "CONTIENE LA X. Prueba o evaluación de los conocimientos adquiridos",
            "CONTIENE LA X. Preciso, riguroso, sin margen de error",
        ],
    },
    {
        letter: "y",
        answer: ["peyote", "yacer", "yoga"],
        status: 0,
        question: [
            "CONTIENE LA Y. Pequeño cáctus conocido por sus alcaloides psicoactivos utilizado de forma ritual y medicinal por indígenas americanos",
            "CON LA Y. Estar tendido o acostado",
            "CON LA Y. Práctica física y mental originaria de la India que busca alcanzar la perfección espiritual y la unión con lo absoluto",
        ],
    },
    {
        letter: "z",
        answer: ["zen", "zampar", "zurdo"],
        status: 0,
        question: [
            "CON LA Z. Escuela de budismo que busca la experiencia de la sabiduría más allá del discurso racional",
            "CON LA Z. Comer vorazmente o en gran cantidad",
            "CON LA Z. Que se sirve o utiliza preferentemente con la mano izquierda",
        ],
    },
];

let playButton = document.querySelector(".play");
let sendButton = document.querySelector(".send")
let pasapalabraButton = document.querySelector(".pasapalabra")
let savePointsButton = document.querySelector(".save-points")
let newGameButton = document.querySelector(".new-game")
let questionText = document.querySelector(".question-text")
let congratulationsText = document.querySelector(".congratulations")
let rankingOneText = document.querySelector(".ranking-1")
let rankingTwoText = document.querySelector(".ranking-2")
let rankingThreeText = document.querySelector(".ranking-3")
let rankingFourText = document.querySelector(".ranking-4")
let rankingFiveText = document.querySelector(".ranking-5")
let instructions = document.querySelector(".instructions")
let questionInput = document.querySelector(".question-input")
let playerInput = document.querySelector(".player-input")
let questionBoard = document.querySelector(".question-board")
let endGameScreen = document.querySelector(".endgame-screen")
let timer = document.querySelector(".timer")
let gameTime = 150
let randomQuestions = []
let letterStatus = []
let ranking = []
let nextStatusZero = 0
let question = ""
let answer = ""
let input = ""
let points = 0

const getNextStatus = () => {
    nextStatusZero = randomQuestions.map(e => e.status).indexOf(0, nextStatusZero)
}

const countDown = () => setInterval(() => {
    gameTime--;
    timer.innerText = gameTime
    if (gameTime <= 0) {
        endTime()
        clearInterval(countDown)
    }
}, 1000)

const endTime = () => {
    timer.innerText = 0
    gameOver()
}

const hideInstructions = () => {
    instructions.classList.add("hidden")
    questionBoard.classList.remove("hidden")
}

const getRandomQuestions = () => {
    for (let i = 0; i < allQuestions.length; i++) {
        const randomIndex = Math.floor(Math.random() * allQuestions[i].answer.length)
        randomQuestions.push({
            "letter": allQuestions[i].letter,
            "answer": allQuestions[i].answer[randomIndex],
            "status": allQuestions[i].status,
            "question": allQuestions[i].question[randomIndex]
        })
    }
}

const getFirstQuestion = () => {
    if (nextStatusZero <= 24) {
        questionText.innerText = randomQuestions[nextStatusZero].question
    }
}

const getQuestion = () => {
    question = randomQuestions[nextStatusZero].question
}

const getAnswer = () => {
    answer = randomQuestions[nextStatusZero].answer
}

const getInput = () => {
    input = questionInput.value.toLowerCase()
}

const compareAnswerWithInput = () => {
    if (input === answer) {
        document.querySelector(`.${randomQuestions[nextStatusZero].letter}`).classList.add("correct")
        document.querySelector(`.${randomQuestions[nextStatusZero].letter}`).classList.remove("letter")
        randomQuestions[nextStatusZero].status = 1
        points++
    } else if (input !== answer) {
        document.querySelector(`.${randomQuestions[nextStatusZero].letter}`).classList.add("incorrect")
        document.querySelector(`.${randomQuestions[nextStatusZero].letter}`).classList.remove("letter")
        randomQuestions[nextStatusZero].status = -1
    }
    questionInput.value = ""
}

const changeQuestion = () => {
    if (nextStatusZero !== -1) {
        questionText.innerText = randomQuestions[nextStatusZero].question
    } else {
        nextStatusZero = randomQuestions.map(e => e.status).indexOf(0, nextStatusZero + 1)
        if (nextStatusZero !== -1) {
            questionText.innerText = randomQuestions[nextStatusZero].question
        } else {
            return
        }
    }
}

const passTheWord = () => {
    nextStatusZero = randomQuestions.map(e => e.status).indexOf(0, nextStatusZero + 1)
    questionText.innerText = randomQuestions[nextStatusZero].question
    checkGameOver()
}

const makeQuestion = () => {
    getQuestion()
    getAnswer()
    getInput()
    compareAnswerWithInput()
    checkGameOver()
    getNextStatus()
    changeQuestion()
}

const checkGameOver = () => {
    if (randomQuestions.every((q) => q.status !== 0))
        gameOver()
}

const showRanking = () => {
    rankingOneText.innerText = `Nombre: ${ranking[0].name} / Puntos ${ranking[0].points}`
    rankingTwoText.innerText = `Nombre: ${ranking[1].name} / Puntos ${ranking[1].points}`
    rankingThreeText.innerText = `Nombre: ${ranking[2].name} / Puntos ${ranking[2].points}`
    rankingFourText.innerText = `Nombre: ${ranking[3].name} / Puntos ${ranking[3].points}`
    rankingFiveText.innerText = `Nombre: ${ranking[4].name} / Puntos ${ranking[4].points}`
}

const endGame = () => {
    congratulationsText.innerText = `¡El juego ha terminado!
    Has hecho un total de ${points} puntos.`
    questionBoard.classList.add("hidden")
    endGameScreen.classList.remove("hidden")
    showRanking()
}

const savePoints = () => {
    savePointsButton.disabled = true
    ranking.push({
        "name": playerInput.value,
        "points": points
    })
    rankPlayers()
    showRanking()
    playerInput.value = ""
}

const rankPlayers = () => {
    debugger;
    ranking.sort((a, b) => {
        if (a.points < b.points) {
            return 1;
        }
        if (a.points > b.points) {
            return -1;
        }
        return 0;
    })
}

const newGame = () => {
    restartData()
    endGameScreen.classList.add("hidden")
    instructions.classList.remove("hidden")
}

const restartData = () => {
    debugger;
    savePointsButton.disabled = false
    for (let i = 0; i < randomQuestions.length; i++) {
        document.querySelector(`.${randomQuestions[i].letter}`).classList.remove("correct")
        document.querySelector(`.${randomQuestions[i].letter}`).classList.remove("incorrect")
        document.querySelector(`.${randomQuestions[i].letter}`).classList.add("letter")
    }
    randomQuestions = []
    gameTime = 150
    letterStatus = []
    nextStatusZero = 0
    question = ""
    answer = ""
    input = ""
    points = 0
}

const gameOver = () => {
    endGame()
}

const startGame = () => {
    countDown()
    hideInstructions()
    getRandomQuestions()
    getFirstQuestion()
}

playButton.addEventListener("click", startGame);
sendButton.addEventListener("click", makeQuestion)
pasapalabraButton.addEventListener("click", passTheWord)
savePointsButton.addEventListener("click", savePoints)
newGameButton.addEventListener("click", newGame)

/*
allQuestions = [
    {
        letter: "a",
        answer: ["abducir", "aceptar", "afirmar"],
        status: 0,
        question: [
            "CON LA A. Dicho de una supuesta criatura extraterrestre: Apoderarse de alguien",
            "CON LA A. Estar de acuerdo con algo",
            "CON LA A. Asegurar o afirmar algo",
        ],
    },
    {
        letter: "b",
        answer: ["bingo", "burlarse", "buscar"],
        status: 0,
        question: [
            "CON LA B. Juego que ha sacado de quicio a todos los 'Coders' en las sesiones de precurso",
            "CON LA B. Ridiculizar o mofarse de alguien o algo",
            "CON LA B. Intentar encontrar algo o a alguien",
        ],
    },
    {
        letter: "c",
        answer: ["churumbel", "cantar", "comer"],
        status: 0,
        question: [
            "CON LA C. Niño, crío, bebé",
            "CON LA C. Emitir sonidos con la voz siguiendo una melodía",
            "CON LA C. Ingerir alimentos",
        ],
    },
    {
        letter: "d",
        answer: ["diarrea", "dibujar", "dormir"],
        status: 0,
        question: [
            "CON LA D. Anormalidad en la función del aparato digestivo caracterizada por frecuentes evacuaciones y su consistencia líquida",
            "CON LA D. Plasmar una idea o representar gráficamente algo",
            "CON LA D. Descansar en un estado de inconsciencia",
        ],
    },
    {
        letter: "e",
        answer: ["ectoplasma", "escuchar", "estudiar"],
        status: 0,
        question: [
            "CON LA E. Gelatinoso y se encuentra debajo de la membrana plasmática. Los cazafantasmas medían su radiación",
            "CON LA E. Percibir con el oído los sonidos",
            "CON LA E. Adquirir conocimientos por medio de la lectura o la investigación",
        ],
    },
    {
        letter: "f",
        answer: ["facil", "fumar", "fugaz"],
        status: 0,
        question: [
            "CON LA F. Que no requiere gran esfuerzo, capacidad o dificultad",
            "CON LA F. Inhalación y exhalación de humo producido por un cigarro, pipa, etc.",
            "CON LA F. Que dura poco tiempo o se realiza con rapidez",
        ],
    },
    {
        letter: "g",
        answer: ["galaxia", "gritar", "girar"],
        status: 0,
        question: [
            "CON LA G. Conjunto enorme de estrellas, polvo interestelar, gases y partículas",
            "CON LA G. Elevar mucho la voz",
            "CON LA G. Dar vueltas sobre sí mismo o alrededor de algo",
        ],
    },
    {
        letter: "h",
        answer: ["harakiri", "hablar", "helado"],
        status: 0,
        question: [
            "CON LA H. Suicidio ritual japonés por desentrañamiento",
            "CON LA H. Emitir palabras, comunicarse oralmente",
            "CON LA H. Postre frío que se elabora con leche, azúcar y otros ingredientes",
        ],
    },
    {
        letter: "i",
        answer: ["iglesia", "inventar", "ir"],
        status: 0,
        question: [
            "CON LA I. Templo cristiano",
            "CON LA I. Crear o idear algo nuevo",
            "CON LA I. Desplazarse de un lugar a otro",
        ],
    },
    {
        letter: "j",
        answer: ["jabali", "jugar", "juntar"],
        status: 0,
        question: [
            "CON LA J. Variedad salvaje del cerdo que sale en la película 'El Rey León', de nombre Pumba",
            "CON LA J. Participar en actividades recreativas o competitivas",
            "CON LA J. Unir una cosa con otra o varias entre sí",
        ],
    },
    {
        letter: "l",
        answer: ["licantropo", "leer", "limpiar"],
        status: 0,
        question: [
            "CON LA L. Hombre lobo",
            "CON LA L. Interpretar un texto escrito en voz alta y comprender su significado",
            "CON LA L. Quitar la suciedad o el desorden de algo",
        ],
    },
    {
        letter: "m",
        answer: ["misantropo", "mirar", "montar"],
        status: 0,
        question: [
            "CON LA M. Persona que huye del trato con otras personas o siente gran aversión hacia ellas",
            "CON LA M. Dirigir la vista hacia algo o alguien para observarlo",
            "CON LA M. Subirse o colocarse sobre algo, especialmente para cabalgar o viajar en él",
        ],
    },
    {
        letter: "n",
        answer: ["necedad", "nadar", "navegar"],
        status: 0,
        question: [
            "CON LA N. Demostración de poca inteligencia",
            "CON LA N. Moverse en el agua ayudándose de los brazos y las piernas",
            "CON LA N. Desplazarse sobre el agua en una embarcación",
        ],
    },
    {
        letter: "ñ",
        answer: ["señal", "ñandu", "caña"],
        status: 0,
        question: [
            "CONTIENE LA Ñ. Indicio que permite deducir algo de lo que no se tiene un conocimiento directo.",
            "CONTIENE LA Ñ. Ave de gran tamaño parecida al avestruz, pero más pequeña",
            "CONTIENE LA Ñ. Varilla larga y delgada, generalmente de metal, que se utiliza para pescar",
        ],
    },
    {
        letter: "o",
        answer: ["orco", "observar", "oler"],
        status: 0,
        question: [
            "CON LA O. Humanoide fantástico de apariencia terrible y bestial, piel de color verde creada por el escritor Tolkien",
            "CON LA O. Mirar atentamente algo o a alguien",
            "CON LA O. Percibir los olores a través del sentido del olfato",
        ],
    },
    {
        letter: "p",
        answer: ["protoss", "pintar", "pasear"],
        status: 0,
        question: [
            "CON LA P. Raza ancestral tecnológicamente avanzada que se caracteriza por sus grandes poderes psíonicos del videojuego StarCraft",
            "CON LA P. Aplicar pintura sobre una superficie",
            "CON LA P. Caminar sin rumbo fijo, generalmente por placer o para hacer ejercicio",
        ],
    },
    {
        letter: "q",
        answer: ["queso", "quemar", "quitar"],
        status: 0,
        question: [
            "CON LA Q. Producto obtenido por la maduración de la cuajada de la leche",
            "CON LA Q. Hacer arder algo con fuego o calor",
            "CON LA Q. Retirar o apartar algo de donde está",
        ],
    },
    {
        letter: "r",
        answer: ["raton", "reir", "rascar"],
        status: 0,
        question: [
            "CON LA R. Roedor",
            "CON LA R. Manifestar alegría mediante ciertos movimientos del rostro y emitiendo sonidos característicos",
            "CON LA R. Pasar las uñas o un objeto punzante sobre la piel para aliviar una comezón",
        ],
    },
    {
        letter: "s",
        answer: ["stackoverflow", "saltar", "soñar"],
        status: 0,
        question: [
            "CON LA S. Comunidad salvadora de todo desarrollador informático",
            "CON LA S. Impulsarse hacia arriba con fuerza desde el suelo o desde una posición elevada",
            "CON LA S. Experimentar imágenes y sensaciones mientras se duerme",
        ],
    },
    {
        letter: "t",
        answer: ["terminator", "tocar", "trabajar"],
        status: 0,
        question: [
            "CON LA T. Película del director James Cameron que consolidó a Arnold Schwarzenegger como actor en 1984",
            "CON LA T. Hacer contacto físico con algo o alguien",
            "CON LA T. Realizar actividades laborales o profesionales",
        ],
    },
    {
        letter: "u",
        answer: ["unamuno", "utilizar", "unir"],
        status: 0,
        question: [
            "CON LA U. Escritor y filósofo español de la generación del 98 autor del libro 'Niebla' en 1914",
            "CON LA U. Hacer uso de algo para un determinado propósito",
            "CON LA U. Juntar, enlazar o conectar cosas entre sí",
        ],
    },
    {
        letter: "v",
        answer: ["vikingos", "ver", "viajar"],
        status: 0,
        question: [
            "CON LA V. Nombre dado a los miembros de los pueblos nórdicos originarios de Escandinavia, famosos por sus incursiones y pillajes en Europa",
            "CON LA V. Percibir con los ojos los objetos mediante la luz que reflejan",
            "CON LA V. Desplazarse de un lugar a otro, generalmente distante",
        ],
    },
    {
        letter: "x",
        answer: ["botox", "examen", "exacto"],
        status: 0,
        question: [
            "CONTIENE LA X. Toxina bacteriana utilizada en cirujía estética",
            "CONTIENE LA X. Prueba o evaluación de los conocimientos adquiridos",
            "CONTIENE LA X. Preciso, riguroso, sin margen de error",
        ],
    },
    {
        letter: "y",
        answer: ["peyote", "yacer", "yoga"],
        status: 0,
        question: [
            "CONTIENE LA Y. Pequeño cáctus conocido por sus alcaloides psicoactivos utilizado de forma ritual y medicinal por indígenas americanos",
            "CON LA Y. Estar tendido o acostado",
            "CON LA Y. Práctica física y mental originaria de la India que busca alcanzar la perfección espiritual y la unión con lo absoluto",
        ],
    },
    {
        letter: "z",
        answer: ["zen", "zampar", "zurdo"],
        status: 0,
        question: [
            "CON LA Z. Escuela de budismo que busca la experiencia de la sabiduría más allá del discurso racional",
            "CON LA Z. Comer vorazmente o en gran cantidad",
            "CON LA Z. Que se sirve o utiliza preferentemente con la mano izquierda",
        ],
    },
];

let playButton = document.querySelector(".play");
let sendButton = document.querySelector(".send")
let pasapalabraButton = document.querySelector(".pasapalabra")
let questionText = document.querySelector(".question-text")
let instructions = document.querySelector(".instructions")
let questionBoard = document.querySelector(".question-board")
let questionInput = document.querySelector(".question-input")
let timer = document.querySelector(".timer")
let gameTime = 3000
let randomQuestions = []
let letterStatus = []
let nextStatus = 0
let turns = 0
let question = ""
let answer = ""
let input = ""
let points = 0
let letterIndex = 0

const getNextStatus = () => {
    nextStatusZero = randomQuestions.map(e => e.status).indexOf(0, letterIndex)
}

const countDown = () => setInterval(() => {
    gameTime--;
    timer.innerText = gameTime
    if (gameTime <= 0) {
        endTime()
        //clearInterval(countDown)
    }
}, 1000)

const endTime = () => {
    timer.innerText = 0
    gameOver()
}

const hideInstructions = () => {
    instructions.classList.add("hidden")
    questionBoard.classList.remove("hidden")
}

const getRandomQuestions = () => {
    for (let i = 0; i < allQuestions.length; i++) {
        const randomIndex = Math.floor(Math.random() * allQuestions[i].answer.length)
        randomQuestions.push({
            "letter": allQuestions[i].letter,
            "answer": allQuestions[i].answer[randomIndex],
            "status": allQuestions[i].status,
            "question": allQuestions[i].question[randomIndex]
        })
    }
}

const getFirstQuestion = () => {
    questionText.innerText = randomQuestions[letterIndex].question
}

const getQuestion = () => {
    question = randomQuestions[letterIndex].question

    console.log(question)
}

const getAnswer = () => {
    answer = randomQuestions[letterIndex].answer
    console.log(answer)
}

const getInput = () => {
    input = questionInput.value.toLowerCase()
    console.log(input)
}

const compareAnswerWithInput = () => {
    if (input === answer) {
        document.querySelector(`.${randomQuestions[letterIndex].letter}`).classList.add("correct")
        document.querySelector(`.${randomQuestions[letterIndex].letter}`).classList.remove("letter")
        randomQuestions[letterIndex].status = 1
        points++
    } else if (input !== answer) {
        document.querySelector(`.${randomQuestions[letterIndex].letter}`).classList.add("incorrect")
        document.querySelector(`.${randomQuestions[letterIndex].letter}`).classList.remove("letter")
        randomQuestions[letterIndex].status = -1
    }
    questionInput.value = ""
}

const changeQuestion = () => {
    for (let i = letterIndex; i < randomQuestions.length; i++) {
        if (randomQuestions[i].status === 0) {
            questionText.innerText = randomQuestions[i].question
            break
        }
    }
}

const passTheWord = () => {
    letterIndex++
    questionText.innerText = randomQuestions[letterIndex].question
    checkGameOver()
}

const makeQuestion = () => {
    getQuestion()
    getAnswer()
    getInput()
    compareAnswerWithInput()
    letterIndex++ //aqui tiene que venir una función que me elija el siguiente index que tenga status 0
    checkGameOver()
    //restartIndex()
    changeQuestion()

    /*letterIndex++
    questionText.innerText = randomQuestions[letterIndex].question
    if (letterIndex === 0) {
        answer = randomQuestions[letterIndex].answer
    } else {
        answer = randomQuestions[letterIndex - 1].answer
    }
    if (questionInput.value.toLowerCase() === answer) {
        document.querySelector(`.${randomQuestions[letterIndex - 1].letter}`).classList.add("correct")
        document.querySelector(`.${randomQuestions[letterIndex - 1].letter}`).classList.remove("letter")
        randomQuestions[letterIndex - 1].status = 1
        points++
    } else if (questionInput.value.toLowerCase() !== answer) {
        document.querySelector(`.${randomQuestions[letterIndex - 1].letter}`).classList.add("incorrect")
        document.querySelector(`.${randomQuestions[letterIndex - 1].letter}`).classList.remove("letter")
        randomQuestions[letterIndex - 1].status = -1
    }
    checkGameOver()
    questionInput.value = ""//
}

const checkGameOver = () => {
    for (let i = letterIndex; i < randomQuestions.length; i++) {
        letterStatus.push(randomQuestions[i].status)
    }
    if (!letterStatus.includes(0))
        gameOver()

}

const gameOver = () => {
    console.log("GAMEOVER")

}

const startGame = () => {
    countDown()
    hideInstructions()
    getRandomQuestions()
    getFirstQuestion()
    //makeQuestion()

}

playButton.addEventListener("click", startGame);
sendButton.addEventListener("click", makeQuestion)
pasapalabraButton.addEventListener("click", passTheWord)
*/


/*
allQuestions = [
    {
        letter: "a",
        answer: ["abducir", "aceptar", "afirmar"],
        status: 0,
        question: [
            "CON LA A. Dicho de una supuesta criatura extraterrestre: Apoderarse de alguien",
            "CON LA A. Estar de acuerdo con algo",
            "CON LA A. Asegurar o afirmar algo",
        ],
    },
    {
        letter: "b",
        answer: ["bingo", "burlarse", "buscar"],
        status: 0,
        question: [
            "CON LA B. Juego que ha sacado de quicio a todos los 'Coders' en las sesiones de precurso",
            "CON LA B. Ridiculizar o mofarse de alguien o algo",
            "CON LA B. Intentar encontrar algo o a alguien",
        ],
    },
    {
        letter: "c",
        answer: ["churumbel", "cantar", "comer"],
        status: 0,
        question: [
            "CON LA C. Niño, crío, bebé",
            "CON LA C. Emitir sonidos con la voz siguiendo una melodía",
            "CON LA C. Ingerir alimentos",
        ],
    },
    {
        letter: "d",
        answer: ["diarrea", "dibujar", "dormir"],
        status: 0,
        question: [
            "CON LA D. Anormalidad en la función del aparato digestivo caracterizada por frecuentes evacuaciones y su consistencia líquida",
            "CON LA D. Plasmar una idea o representar gráficamente algo",
            "CON LA D. Descansar en un estado de inconsciencia",
        ],
    },
    {
        letter: "e",
        answer: ["ectoplasma", "escuchar", "estudiar"],
        status: 0,
        question: [
            "CON LA E. Gelatinoso y se encuentra debajo de la membrana plasmática. Los cazafantasmas medían su radiación",
            "CON LA E. Percibir con el oído los sonidos",
            "CON LA E. Adquirir conocimientos por medio de la lectura o la investigación",
        ],
    },
    {
        letter: "f",
        answer: ["facil", "fumar", "fugaz"],
        status: 0,
        question: [
            "CON LA F. Que no requiere gran esfuerzo, capacidad o dificultad",
            "CON LA F. Inhalación y exhalación de humo producido por un cigarro, pipa, etc.",
            "CON LA F. Que dura poco tiempo o se realiza con rapidez",
        ],
    },
    {
        letter: "g",
        answer: ["galaxia", "gritar", "girar"],
        status: 0,
        question: [
            "CON LA G. Conjunto enorme de estrellas, polvo interestelar, gases y partículas",
            "CON LA G. Elevar mucho la voz",
            "CON LA G. Dar vueltas sobre sí mismo o alrededor de algo",
        ],
    },
    {
        letter: "h",
        answer: ["harakiri", "hablar", "helado"],
        status: 0,
        question: [
            "CON LA H. Suicidio ritual japonés por desentrañamiento",
            "CON LA H. Emitir palabras, comunicarse oralmente",
            "CON LA H. Postre frío que se elabora con leche, azúcar y otros ingredientes",
        ],
    },
    {
        letter: "i",
        answer: ["iglesia", "inventar", "ir"],
        status: 0,
        question: [
            "CON LA I. Templo cristiano",
            "CON LA I. Crear o idear algo nuevo",
            "CON LA I. Desplazarse de un lugar a otro",
        ],
    },
    {
        letter: "j",
        answer: ["jabali", "jugar", "juntar"],
        status: 0,
        question: [
            "CON LA J. Variedad salvaje del cerdo que sale en la película 'El Rey León', de nombre Pumba",
            "CON LA J. Participar en actividades recreativas o competitivas",
            "CON LA J. Unir una cosa con otra o varias entre sí",
        ],
    },
    {
        letter: "l",
        answer: ["licantropo", "leer", "limpiar"],
        status: 0,
        question: [
            "CON LA L. Hombre lobo",
            "CON LA L. Interpretar un texto escrito en voz alta y comprender su significado",
            "CON LA L. Quitar la suciedad o el desorden de algo",
        ],
    },
    {
        letter: "m",
        answer: ["misantropo", "mirar", "montar"],
        status: 0,
        question: [
            "CON LA M. Persona que huye del trato con otras personas o siente gran aversión hacia ellas",
            "CON LA M. Dirigir la vista hacia algo o alguien para observarlo",
            "CON LA M. Subirse o colocarse sobre algo, especialmente para cabalgar o viajar en él",
        ],
    },
    {
        letter: "n",
        answer: ["necedad", "nadar", "navegar"],
        status: 0,
        question: [
            "CON LA N. Demostración de poca inteligencia",
            "CON LA N. Moverse en el agua ayudándose de los brazos y las piernas",
            "CON LA N. Desplazarse sobre el agua en una embarcación",
        ],
    },
    {
        letter: "ñ",
        answer: ["señal", "ñandu", "caña"],
        status: 0,
        question: [
            "CONTIENE LA Ñ. Indicio que permite deducir algo de lo que no se tiene un conocimiento directo.",
            "CONTIENE LA Ñ. Ave de gran tamaño parecida al avestruz, pero más pequeña",
            "CONTIENE LA Ñ. Varilla larga y delgada, generalmente de metal, que se utiliza para pescar",
        ],
    },
    {
        letter: "o",
        answer: ["orco", "observar", "oler"],
        status: 0,
        question: [
            "CON LA O. Humanoide fantástico de apariencia terrible y bestial, piel de color verde creada por el escritor Tolkien",
            "CON LA O. Mirar atentamente algo o a alguien",
            "CON LA O. Percibir los olores a través del sentido del olfato",
        ],
    },
    {
        letter: "p",
        answer: ["protoss", "pintar", "pasear"],
        status: 0,
        question: [
            "CON LA P. Raza ancestral tecnológicamente avanzada que se caracteriza por sus grandes poderes psíonicos del videojuego StarCraft",
            "CON LA P. Aplicar pintura sobre una superficie",
            "CON LA P. Caminar sin rumbo fijo, generalmente por placer o para hacer ejercicio",
        ],
    },
    {
        letter: "q",
        answer: ["queso", "quemar", "quitar"],
        status: 0,
        question: [
            "CON LA Q. Producto obtenido por la maduración de la cuajada de la leche",
            "CON LA Q. Hacer arder algo con fuego o calor",
            "CON LA Q. Retirar o apartar algo de donde está",
        ],
    },
    {
        letter: "r",
        answer: ["raton", "reir", "rascar"],
        status: 0,
        question: [
            "CON LA R. Roedor",
            "CON LA R. Manifestar alegría mediante ciertos movimientos del rostro y emitiendo sonidos característicos",
            "CON LA R. Pasar las uñas o un objeto punzante sobre la piel para aliviar una comezón",
        ],
    },
    {
        letter: "s",
        answer: ["stackoverflow", "saltar", "soñar"],
        status: 0,
        question: [
            "CON LA S. Comunidad salvadora de todo desarrollador informático",
            "CON LA S. Impulsarse hacia arriba con fuerza desde el suelo o desde una posición elevada",
            "CON LA S. Experimentar imágenes y sensaciones mientras se duerme",
        ],
    },
    {
        letter: "t",
        answer: ["terminator", "tocar", "trabajar"],
        status: 0,
        question: [
            "CON LA T. Película del director James Cameron que consolidó a Arnold Schwarzenegger como actor en 1984",
            "CON LA T. Hacer contacto físico con algo o alguien",
            "CON LA T. Realizar actividades laborales o profesionales",
        ],
    },
    {
        letter: "u",
        answer: ["unamuno", "utilizar", "unir"],
        status: 0,
        question: [
            "CON LA U. Escritor y filósofo español de la generación del 98 autor del libro 'Niebla' en 1914",
            "CON LA U. Hacer uso de algo para un determinado propósito",
            "CON LA U. Juntar, enlazar o conectar cosas entre sí",
        ],
    },
    {
        letter: "v",
        answer: ["vikingos", "ver", "viajar"],
        status: 0,
        question: [
            "CON LA V. Nombre dado a los miembros de los pueblos nórdicos originarios de Escandinavia, famosos por sus incursiones y pillajes en Europa",
            "CON LA V. Percibir con los ojos los objetos mediante la luz que reflejan",
            "CON LA V. Desplazarse de un lugar a otro, generalmente distante",
        ],
    },
    {
        letter: "x",
        answer: ["botox", "examen", "exacto"],
        status: 0,
        question: [
            "CONTIENE LA X. Toxina bacteriana utilizada en cirujía estética",
            "CONTIENE LA X. Prueba o evaluación de los conocimientos adquiridos",
            "CONTIENE LA X. Preciso, riguroso, sin margen de error",
        ],
    },
    {
        letter: "y",
        answer: ["peyote", "yacer", "yoga"],
        status: 0,
        question: [
            "CONTIENE LA Y. Pequeño cáctus conocido por sus alcaloides psicoactivos utilizado de forma ritual y medicinal por indígenas americanos",
            "CON LA Y. Estar tendido o acostado",
            "CON LA Y. Práctica física y mental originaria de la India que busca alcanzar la perfección espiritual y la unión con lo absoluto",
        ],
    },
    {
        letter: "z",
        answer: ["zen", "zampar", "zurdo"],
        status: 0,
        question: [
            "CON LA Z. Escuela de budismo que busca la experiencia de la sabiduría más allá del discurso racional",
            "CON LA Z. Comer vorazmente o en gran cantidad",
            "CON LA Z. Que se sirve o utiliza preferentemente con la mano izquierda",
        ],
    },
];

let playButton = document.querySelector(".play");
let sendButton = document.querySelector(".send")
let pasapalabraButton = document.querySelector(".pasapalabra")
let questionText = document.querySelector(".question-text")
let instructions = document.querySelector(".instructions")
let questionBoard = document.querySelector(".question-board")
let questionInput = document.querySelector(".question-input")
let timer = document.querySelector(".timer")
let gameTime = 3000
let randomQuestions = []
letterStatus = []
let question = ""
let answer = ""
let input = ""
let points = 0
let letterIndex = 0

const countDown = () => setInterval(() => {
    gameTime--;
    timer.innerText = gameTime
    if (gameTime <= 0) {
        endTime()
        //clearInterval(countDown)
    }
}, 1000)

const endTime = () => {
    timer.innerText = 0
    gameOver()
}

const hideInstructions = () => {
    instructions.classList.add("hidden")
    questionBoard.classList.remove("hidden")
}

const getRandomQuestions = () => {
    for (let i = 0; i < allQuestions.length; i++) {
        const randomIndex = Math.floor(Math.random() * allQuestions[i].answer.length)
        randomQuestions.push({
            "letter": allQuestions[i].letter,
            "answer": allQuestions[i].answer[randomIndex],
            "status": allQuestions[i].status,
            "question": allQuestions[i].question[randomIndex]
        })
    }
}

const getFirstQuestion = () => {
    questionText.innerText = randomQuestions[letterIndex].question
}

const getQuestion = () => {
    question = randomQuestions[letterIndex].question
    
    console.log(question)
}

const getAnswer = () => {
    answer = randomQuestions[letterIndex].answer
    console.log(answer)
}

const getInput = () => {
    input = questionInput.value.toLowerCase()
    console.log(input)
}

const compareAnswerWithInput = () => {
    if (input === answer) {
        document.querySelector(`.${randomQuestions[letterIndex].letter}`).classList.add("correct")
        document.querySelector(`.${randomQuestions[letterIndex].letter}`).classList.remove("letter")
        randomQuestions[letterIndex].status = 1
        points++
    } else if (input !== answer) {
        document.querySelector(`.${randomQuestions[letterIndex].letter}`).classList.add("incorrect")
        document.querySelector(`.${randomQuestions[letterIndex].letter}`).classList.remove("letter")
        randomQuestions[letterIndex].status = -1
    }
    questionInput.value = ""
}

const changeQuestion = () => {
    questionText.innerText = randomQuestions[letterIndex].question
}

const passTheWord = () => {
    letterIndex++
    questionText.innerText = randomQuestions[letterIndex].question
    checkGameOver()
}

const makeQuestion = () => {
    getQuestion()
    getAnswer()
    getInput()
    compareAnswerWithInput()
    letterIndex++
    changeQuestion()
    checkGameOver()
}

const checkGameOver = () => {
    for (let i = letterIndex; i < randomQuestions.length; i++) {
        letterStatus.push(randomQuestions[i - 1].status)
    }
    if (!letterStatus.includes(0))
        gameOver()

}

const gameOver = () => {
    console.log("GAMEOVER")

}

const startGame = () => {
    countDown()
    hideInstructions()
    getRandomQuestions()
    getFirstQuestion()
    //makeQuestion()

}

playButton.addEventListener("click", startGame);
sendButton.addEventListener("click", makeQuestion)
pasapalabraButton.addEventListener("click", passTheWord)
*/


/*
allQuestions = [
    {
        letter: "a",
        answer: ["abducir", "aceptar", "afirmar"],
        status: 0,
        question: [
            "CON LA A. Dicho de una supuesta criatura extraterrestre: Apoderarse de alguien",
            "CON LA A. Estar de acuerdo con algo",
            "CON LA A. Asegurar o afirmar algo",
        ],
    },
    {
        letter: "b",
        answer: ["bingo", "burlarse", "buscar"],
        status: 0,
        question: [
            "CON LA B. Juego que ha sacado de quicio a todos los 'Coders' en las sesiones de precurso",
            "CON LA B. Ridiculizar o mofarse de alguien o algo",
            "CON LA B. Intentar encontrar algo o a alguien",
        ],
    },
    {
        letter: "c",
        answer: ["churumbel", "cantar", "comer"],
        status: 0,
        question: [
            "CON LA C. Niño, crío, bebé",
            "CON LA C. Emitir sonidos con la voz siguiendo una melodía",
            "CON LA C. Ingerir alimentos",
        ],
    },
    {
        letter: "d",
        answer: ["diarrea", "dibujar", "dormir"],
        status: 0,
        question: [
            "CON LA D. Anormalidad en la función del aparato digestivo caracterizada por frecuentes evacuaciones y su consistencia líquida",
            "CON LA D. Plasmar una idea o representar gráficamente algo",
            "CON LA D. Descansar en un estado de inconsciencia",
        ],
    },
    {
        letter: "e",
        answer: ["ectoplasma", "escuchar", "estudiar"],
        status: 0,
        question: [
            "CON LA E. Gelatinoso y se encuentra debajo de la membrana plasmática. Los cazafantasmas medían su radiación",
            "CON LA E. Percibir con el oído los sonidos",
            "CON LA E. Adquirir conocimientos por medio de la lectura o la investigación",
        ],
    },
    {
        letter: "f",
        answer: ["facil", "fumar", "fugaz"],
        status: 0,
        question: [
            "CON LA F. Que no requiere gran esfuerzo, capacidad o dificultad",
            "CON LA F. Inhalación y exhalación de humo producido por un cigarro, pipa, etc.",
            "CON LA F. Que dura poco tiempo o se realiza con rapidez",
        ],
    },
    {
        letter: "g",
        answer: ["galaxia", "gritar", "girar"],
        status: 0,
        question: [
            "CON LA G. Conjunto enorme de estrellas, polvo interestelar, gases y partículas",
            "CON LA G. Elevar mucho la voz",
            "CON LA G. Dar vueltas sobre sí mismo o alrededor de algo",
        ],
    },
    {
        letter: "h",
        answer: ["harakiri", "hablar", "helado"],
        status: 0,
        question: [
            "CON LA H. Suicidio ritual japonés por desentrañamiento",
            "CON LA H. Emitir palabras, comunicarse oralmente",
            "CON LA H. Postre frío que se elabora con leche, azúcar y otros ingredientes",
        ],
    },
    {
        letter: "i",
        answer: ["iglesia", "inventar", "ir"],
        status: 0,
        question: [
            "CON LA I. Templo cristiano",
            "CON LA I. Crear o idear algo nuevo",
            "CON LA I. Desplazarse de un lugar a otro",
        ],
    },
    {
        letter: "j",
        answer: ["jabali", "jugar", "juntar"],
        status: 0,
        question: [
            "CON LA J. Variedad salvaje del cerdo que sale en la película 'El Rey León', de nombre Pumba",
            "CON LA J. Participar en actividades recreativas o competitivas",
            "CON LA J. Unir una cosa con otra o varias entre sí",
        ],
    },
    {
        letter: "l",
        answer: ["licantropo", "leer", "limpiar"],
        status: 0,
        question: [
            "CON LA L. Hombre lobo",
            "CON LA L. Interpretar un texto escrito en voz alta y comprender su significado",
            "CON LA L. Quitar la suciedad o el desorden de algo",
        ],
    },
    {
        letter: "m",
        answer: ["misantropo", "mirar", "montar"],
        status: 0,
        question: [
            "CON LA M. Persona que huye del trato con otras personas o siente gran aversión hacia ellas",
            "CON LA M. Dirigir la vista hacia algo o alguien para observarlo",
            "CON LA M. Subirse o colocarse sobre algo, especialmente para cabalgar o viajar en él",
        ],
    },
    {
        letter: "n",
        answer: ["necedad", "nadar", "navegar"],
        status: 0,
        question: [
            "CON LA N. Demostración de poca inteligencia",
            "CON LA N. Moverse en el agua ayudándose de los brazos y las piernas",
            "CON LA N. Desplazarse sobre el agua en una embarcación",
        ],
    },
    {
        letter: "ñ",
        answer: ["señal", "ñandu", "caña"],
        status: 0,
        question: [
            "CONTIENE LA Ñ. Indicio que permite deducir algo de lo que no se tiene un conocimiento directo.",
            "CONTIENE LA Ñ. Ave de gran tamaño parecida al avestruz, pero más pequeña",
            "CONTIENE LA Ñ. Varilla larga y delgada, generalmente de metal, que se utiliza para pescar",
        ],
    },
    {
        letter: "o",
        answer: ["orco", "observar", "oler"],
        status: 0,
        question: [
            "CON LA O. Humanoide fantástico de apariencia terrible y bestial, piel de color verde creada por el escritor Tolkien",
            "CON LA O. Mirar atentamente algo o a alguien",
            "CON LA O. Percibir los olores a través del sentido del olfato",
        ],
    },
    {
        letter: "p",
        answer: ["protoss", "pintar", "pasear"],
        status: 0,
        question: [
            "CON LA P. Raza ancestral tecnológicamente avanzada que se caracteriza por sus grandes poderes psíonicos del videojuego StarCraft",
            "CON LA P. Aplicar pintura sobre una superficie",
            "CON LA P. Caminar sin rumbo fijo, generalmente por placer o para hacer ejercicio",
        ],
    },
    {
        letter: "q",
        answer: ["queso", "quemar", "quitar"],
        status: 0,
        question: [
            "CON LA Q. Producto obtenido por la maduración de la cuajada de la leche",
            "CON LA Q. Hacer arder algo con fuego o calor",
            "CON LA Q. Retirar o apartar algo de donde está",
        ],
    },
    {
        letter: "r",
        answer: ["raton", "reir", "rascar"],
        status: 0,
        question: [
            "CON LA R. Roedor",
            "CON LA R. Manifestar alegría mediante ciertos movimientos del rostro y emitiendo sonidos característicos",
            "CON LA R. Pasar las uñas o un objeto punzante sobre la piel para aliviar una comezón",
        ],
    },
    {
        letter: "s",
        answer: ["stackoverflow", "saltar", "soñar"],
        status: 0,
        question: [
            "CON LA S. Comunidad salvadora de todo desarrollador informático",
            "CON LA S. Impulsarse hacia arriba con fuerza desde el suelo o desde una posición elevada",
            "CON LA S. Experimentar imágenes y sensaciones mientras se duerme",
        ],
    },
    {
        letter: "t",
        answer: ["terminator", "tocar", "trabajar"],
        status: 0,
        question: [
            "CON LA T. Película del director James Cameron que consolidó a Arnold Schwarzenegger como actor en 1984",
            "CON LA T. Hacer contacto físico con algo o alguien",
            "CON LA T. Realizar actividades laborales o profesionales",
        ],
    },
    {
        letter: "u",
        answer: ["unamuno", "utilizar", "unir"],
        status: 0,
        question: [
            "CON LA U. Escritor y filósofo español de la generación del 98 autor del libro 'Niebla' en 1914",
            "CON LA U. Hacer uso de algo para un determinado propósito",
            "CON LA U. Juntar, enlazar o conectar cosas entre sí",
        ],
    },
    {
        letter: "v",
        answer: ["vikingos", "ver", "viajar"],
        status: 0,
        question: [
            "CON LA V. Nombre dado a los miembros de los pueblos nórdicos originarios de Escandinavia, famosos por sus incursiones y pillajes en Europa",
            "CON LA V. Percibir con los ojos los objetos mediante la luz que reflejan",
            "CON LA V. Desplazarse de un lugar a otro, generalmente distante",
        ],
    },
    {
        letter: "x",
        answer: ["botox", "examen", "exacto"],
        status: 0,
        question: [
            "CONTIENE LA X. Toxina bacteriana utilizada en cirujía estética",
            "CONTIENE LA X. Prueba o evaluación de los conocimientos adquiridos",
            "CONTIENE LA X. Preciso, riguroso, sin margen de error",
        ],
    },
    {
        letter: "y",
        answer: ["peyote", "yacer", "yoga"],
        status: 0,
        question: [
            "CONTIENE LA Y. Pequeño cáctus conocido por sus alcaloides psicoactivos utilizado de forma ritual y medicinal por indígenas americanos",
            "CON LA Y. Estar tendido o acostado",
            "CON LA Y. Práctica física y mental originaria de la India que busca alcanzar la perfección espiritual y la unión con lo absoluto",
        ],
    },
    {
        letter: "z",
        answer: ["zen", "zampar", "zurdo"],
        status: 0,
        question: [
            "CON LA Z. Escuela de budismo que busca la experiencia de la sabiduría más allá del discurso racional",
            "CON LA Z. Comer vorazmente o en gran cantidad",
            "CON LA Z. Que se sirve o utiliza preferentemente con la mano izquierda",
        ],
    },
];

let playButton = document.querySelector(".play");
let sendButton = document.querySelector(".send")
let pasapalabraButton = document.querySelector(".pasapalabra")
let questionText = document.querySelector(".question-text")
let instructions = document.querySelector(".instructions")
let questionBoard = document.querySelector(".question-board")
let questionInput = document.querySelector(".question-input")
let timer = document.querySelector(".timer")
let gameTime = 3000
let randomQuestions = []
letterStatus = []
let answer = ""
let points = 0
let letterIndex = 0

const countDown = () => setInterval(() => {
    gameTime--;
    timer.innerText = gameTime
    if (gameTime <= 0) {
        endTime()
        //clearInterval(countDown)
    }
}, 1000)

const endTime = () => {
    timer.innerText = 0
    gameOver()
}

const checkGameOver = () => {
    for (let i = letterIndex; i < randomQuestions.length; i++) {
        letterStatus.push(randomQuestions[i - 1].status)
    }
    if (!letterStatus.includes(0))
        gameOver()

}

const gameOver = () => {
    console.log("GAMEOVER")

}

const getRandomQuestions = () => {
    for (let i = 0; i < allQuestions.length; i++) {
        const randomIndex = Math.floor(Math.random() * allQuestions[i].answer.length)
        randomQuestions.push({
            "letter": allQuestions[i].letter,
            "answer": allQuestions[i].answer[randomIndex],
            "status": allQuestions[i].status,
            "question": allQuestions[i].question[randomIndex]
        })
    }
    questionText.innerText = randomQuestions[letterIndex].question
}

const passTheWord = () => {
    letterIndex++
    questionText.innerText = randomQuestions[letterIndex].question
    checkGameOver()
}

const makeQuestion = () => {
    letterIndex++
    questionText.innerText = randomQuestions[letterIndex].question
    if (letterIndex === 0) {
        answer = randomQuestions[letterIndex].answer
    } else {
        answer = randomQuestions[letterIndex - 1].answer
    }
    if (questionInput.value.toLowerCase() === answer) {
        document.querySelector(`.${randomQuestions[letterIndex - 1].letter}`).classList.add("correct")
        document.querySelector(`.${randomQuestions[letterIndex - 1].letter}`).classList.remove("letter")
        randomQuestions[letterIndex - 1].status = 1
        points++
    } else if (questionInput.value.toLowerCase() !== answer) {
        document.querySelector(`.${randomQuestions[letterIndex - 1].letter}`).classList.add("incorrect")
        document.querySelector(`.${randomQuestions[letterIndex - 1].letter}`).classList.remove("letter")
        randomQuestions[letterIndex - 1].status = -1
    }
    checkGameOver()
    questionInput.value = ""
}

const hideInstructions = () => {
    instructions.classList.add("hidden")
    questionBoard.classList.remove("hidden")
}

const startGame = () => {
    countDown()
    hideInstructions()
    getRandomQuestions()
    //makeQuestion()

}

playButton.addEventListener("click", startGame);
sendButton.addEventListener("click", makeQuestion)
pasapalabraButton.addEventListener("click", passTheWord)
*/